# Spentris Documentation

This document will contain all the documentation for Spentris. It is intended as a reference while developing.

## Current File Structure

- `addons` (empty)
  - *currently does not contain anything*
- `deprecated` (deprecated)
  - `docs.md`
    - *contains a markdown-converted document that was used to plan the game for the first two or three months*
  - `events.md`
    - *planning out the types of events that would exist*
  - `standardRulesPlan.md`
    - *a plan about the hierarchy of functions to be implemented into `standardRules.js` while it was in development*
  - `main.js`
    - *an old version of main.js that would contain all the values and run everything necessary for the game engine to function*
    - *replaced in lieu of a new version with menu features and better code overall*
- `engine`
  - `allSpin.js`
    - *contains functions important for All-Spin mechanics*
    - ***deprecated***
  - `functionLibrary.js`
    - *combines all the `Stacker` functions into one object that can be readily accessed*
  - `nextEvent.js`
    - *contains a class that powers the time-based system to handle gravity and ARR*
    - *was difficult to fully comprehend so I put it in a different file*
  - `rsData.js`
    - *contains rotation system data for SRS and SRS+*
  - `stacker.js`
    - *contains the base `Stacker` class*
  - `stackerObjects.js`
    - *contains important `Stacker` objects like `BoardMino`s and `PieceMino`s
  - `standardRules.js`
    - *contains all the functions to power a standard block stacker game*
    - *basically the heart of everything*
  - `util.js`
    - *contains utilities (like functions or constants) that are not dependent on any other file*
- `interaction`
  - `gamepad.js` (empty)
    - *will contain a class to handle inputs provided by the Gamepad API*
  - `keyboard.js`
    - *contains a class to handle keyboard inputs*
- `localization` (needs reworking)
  - `language.js`
    - *contains language data for translations*
    - *is a .js file because there are functions within the language object*
    - *JP language was just an example to test it with multiple languages but it was primarily translated by GitHub Copilot's autocomplete because I was too lazy to look up the actual terms myself*
    - *please help contribute <3*
- `localStorage` (empty)
  - *will contain scripts to manage reading and writing with the `localStorage` property*
  - *must be backwards compatible so that local settings aren't reset on a refactor*
- `mmOutput`
  - *multimedia output*
  - `audio` (empty)
    - *will contain files that will handle audio*
- `ui`
  - `debug` (deprecated)
    - `debugRenderField.js` (deprecated)
      - *a basic rendering system that was made before the engine purely for debugging and testing purposes*
  - `fonts`
    - `Bloxyl.otf`
      - *a font I made a while ago that fits the style of this game*
      - *doesn't really adhere to font standards so beware*
  - `gameRenderV1`
    - *the first iteration of the rendering engine*
    - *uses `CanvasRenderingContext2D` to render, which may not be very performant*
    - `converter.js`
      - *contains a `RenderGameState` class to convert a `Stacker` object into a renderer-digestible format*
      - *exists only for the sake of modularity*
    - `renderer.js`
      - *processes a `RenderGameState` object and renders the board state to a canvas*
    - `rsData.js`
      - *contains simple rotation system data (really only the matrices) which are necessary for the renderer to function*
      - *consider removing it in place of using the actual data from the rotation system which would reduce modularity but would be better*
        - *also consider converting the rotation system data used by the engine into a digestible format to fix the modularity*
        - *modularity is my pookie <3*
    - `skin.js`
      - *contains `TileMap` and `GameSkin` classes which help facilitate the rendering of minos*
      - *will also render other stuff besides minos but not now*
  - `menu` (in development)
    - *contains scripts to process the menu UIs*
    - `defaultValues.js`
      - *contains the default values `MenuHandler` will contain, which it can then use to generate values for the game engine*
    - `menu.js`
      - *will handle the menus and integrate closely with the HTML and CSS*
  - `skins`
    - *contains images with texture data*
    - *ghost.png also contains images for the next piece spawn*
    - `TETRIO`
      - `ghost.png`
      - `minos.png`
    - `TETRIOconnected` (unused)
      - `ghost.png`
      - `minos.png`
- `docs.md`
  - *documentation for the entire game*
  - *this file*
- `eventEmitter.js`
  - *contains a class to emit events much like `addEventListener` but for objects*
- `index.html`
  - *the web page with the actual game on it*
- `archivedMain.js`
  - *an archived version of `main.js` that is used for future reference when trying to reoperate the main game engine`
- `main.js`
  - *the only script `index.html` imports, should load everything else*
- `README.md`
  - *GitHub readme*

## To-do

- [ ] UI
  - [x] Create `MenuHandler` Class
  - [x] Create menu interface that allows for users to play
  - [ ] Create settings interface that allows for users to change handling and keybinds
    - [x] Handling
    - [ ] Keybinds
  - [ ] Update localization support for the UI
  - [ ] Ability to create a custom mode
  - [ ] Create ending screen for games 
- [ ] Game
  - [ ] Create more modes
    - [ ] 40L
    - [ ] 1000L
    - [ ] Blitz / Ultra
- [ ] Puzzles
  - [ ] Create puzzle selection interface
  - [ ] Create designated puzzle creator
  - [ ] Automatically generate puzzles
- [ ] Lessons
  - *too far ahead, give it a month or two*